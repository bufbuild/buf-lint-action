"use strict";var vs=Object.create;var Ue=Object.defineProperty;var Es=Object.getOwnPropertyDescriptor;var gs=Object.getOwnPropertyNames;var ys=Object.getPrototypeOf,ws=Object.prototype.hasOwnProperty;var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rs=(t,e)=>{for(var r in e)Ue(t,r,{get:e[r],enumerable:!0})},Yt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gs(e))!ws.call(t,i)&&i!==r&&Ue(t,i,{get:()=>e[i],enumerable:!(n=Es(e,i))||n.enumerable});return t};var W=(t,e,r)=>(r=t!=null?vs(ys(t)):{},Yt(e||!t||!t.__esModule?Ue(r,"default",{value:t,enumerable:!0}):r,t)),Os=t=>Yt(Ue({},"__esModule",{value:!0}),t);var je=p(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.toCommandProperties=pe.toCommandValue=void 0;function _s(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}pe.toCommandValue=_s;function Ss(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}pe.toCommandProperties=Ss});var Qt=p(U=>{"use strict";var $s=U&&U.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xs=U&&U.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),As=U&&U.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&$s(e,t,r);return xs(e,t),e};Object.defineProperty(U,"__esModule",{value:!0});U.issue=U.issueCommand=void 0;var Ts=As(require("os")),Kt=je();function zt(t,e,r){let n=new ut(t,e,r);process.stdout.write(n.toString()+Ts.EOL)}U.issueCommand=zt;function Is(t,e=""){zt(t,{},e)}U.issue=Is;var Jt="::",ut=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=Jt+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${bs(i)}`)}}return e+=`${Jt}${Ns(this.message)}`,e}};function Ns(t){return Kt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function bs(t){return Kt.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Se(){return Fe>Me.length-16&&(Zt.default.randomFillSync(Me),Fe=0),Me.slice(Fe,Fe+=16)}var Zt,Me,Fe,lt=I(()=>{Zt=W(require("crypto")),Me=new Uint8Array(256),Fe=Me.length});var er,tr=I(()=>{er=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qs(t){return typeof t=="string"&&er.test(t)}var Q,$e=I(()=>{tr();Q=qs});function Ps(t,e=0){let r=(A[t[e+0]]+A[t[e+1]]+A[t[e+2]]+A[t[e+3]]+"-"+A[t[e+4]]+A[t[e+5]]+"-"+A[t[e+6]]+A[t[e+7]]+"-"+A[t[e+8]]+A[t[e+9]]+"-"+A[t[e+10]]+A[t[e+11]]+A[t[e+12]]+A[t[e+13]]+A[t[e+14]]+A[t[e+15]]).toLowerCase();if(!Q(r))throw TypeError("Stringified UUID is invalid");return r}var A,Z,xe=I(()=>{$e();A=[];for(let t=0;t<256;++t)A.push((t+256).toString(16).substr(1));Z=Ps});function Ls(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||rr,o=t.clockseq!==void 0?t.clockseq:ct;if(s==null||o==null){let v=t.random||(t.rng||Se)();s==null&&(s=rr=[v[0]|1,v[1],v[2],v[3],v[4],v[5]]),o==null&&(o=ct=(v[6]<<8|v[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:ht+1,l=a-ft+(u-ht)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||a>ft)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ft=a,ht=u,ct=o,a+=122192928e5;let c=((a&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let v=0;v<6;++v)i[n+v]=s[v];return e||Z(i)}var rr,ct,ft,ht,nr,ir=I(()=>{lt();xe();ft=0,ht=0;nr=Ls});function Ds(t){if(!Q(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Ge,dt=I(()=>{$e();Ge=Ds});function Cs(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Be(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=Cs(i)),typeof s=="string"&&(s=Ge(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let l=0;l<16;++l)o[a+l]=u[l];return o}return Z(u)}try{n.name=t}catch{}return n.DNS=Us,n.URL=js,n}var Us,js,pt=I(()=>{xe();dt();Us="6ba7b810-9dad-11d1-80b4-00c04fd430c8",js="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Fs(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),sr.default.createHash("md5").update(t).digest()}var sr,or,ar=I(()=>{sr=W(require("crypto"));or=Fs});var Ms,ur,lr=I(()=>{pt();ar();Ms=Be("v3",48,or),ur=Ms});function Gs(t,e,r){t=t||{};let n=t.random||(t.rng||Se)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Z(n)}var cr,fr=I(()=>{lt();xe();cr=Gs});function Bs(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),hr.default.createHash("sha1").update(t).digest()}var hr,dr,pr=I(()=>{hr=W(require("crypto"));dr=Bs});var Vs,mr,vr=I(()=>{pt();pr();Vs=Be("v5",80,dr),mr=Vs});var Er,gr=I(()=>{Er="00000000-0000-0000-0000-000000000000"});function Xs(t){if(!Q(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var yr,wr=I(()=>{$e();yr=Xs});var Rr={};Rs(Rr,{NIL:()=>Er,parse:()=>Ge,stringify:()=>Z,v1:()=>nr,v3:()=>ur,v4:()=>cr,v5:()=>mr,validate:()=>Q,version:()=>yr});var Or=I(()=>{ir();lr();fr();vr();gr();wr();$e();xe();dt()});var xr=p(j=>{"use strict";var ks=j&&j.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ws=j&&j.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sr=j&&j.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ks(e,t,r);return Ws(e,t),e};Object.defineProperty(j,"__esModule",{value:!0});j.prepareKeyValueMessage=j.issueFileCommand=void 0;var _r=Sr(require("fs")),mt=Sr(require("os")),Hs=(Or(),Os(Rr)),$r=je();function Ys(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!_r.existsSync(r))throw new Error(`Missing file at path: ${r}`);_r.appendFileSync(r,`${$r.toCommandValue(e)}${mt.EOL}`,{encoding:"utf8"})}j.issueFileCommand=Ys;function Js(t,e){let r=`ghadelimiter_${Hs.v4()}`,n=$r.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${mt.EOL}${n}${mt.EOL}${r}`}j.prepareKeyValueMessage=Js});var Tr=p(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.checkBypass=me.getProxyUrl=void 0;function Ks(t){let e=t.protocol==="https:";if(Ar(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}me.getProxyUrl=Ks;function Ar(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}me.checkBypass=Ar});var qr=p(ve=>{"use strict";var fc=require("net"),zs=require("tls"),vt=require("http"),Ir=require("https"),Qs=require("events"),hc=require("assert"),Zs=require("util");ve.httpOverHttp=eo;ve.httpsOverHttp=to;ve.httpOverHttps=ro;ve.httpsOverHttps=no;function eo(t){var e=new J(t);return e.request=vt.request,e}function to(t){var e=new J(t);return e.request=vt.request,e.createSocket=Nr,e.defaultPort=443,e}function ro(t){var e=new J(t);return e.request=Ir.request,e}function no(t){var e=new J(t);return e.request=Ir.request,e.createSocket=Nr,e.defaultPort=443,e}function J(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||vt.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var a=br(i,s,o),u=0,l=e.requests.length;u<l;++u){var c=e.requests[u];if(c.host===a.host&&c.port===a.port){e.requests.splice(u,1),c.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}Zs.inherits(J,Qs.EventEmitter);J.prototype.addRequest=function(e,r,n,i){var s=this,o=Et({request:e},s.options,br(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",u),a.on("close",l),a.on("agentRemove",l),e.onSocket(a);function u(){s.emit("free",a,o)}function l(c){s.removeSocket(a),a.removeListener("free",u),a.removeListener("close",l),a.removeListener("agentRemove",l)}})};J.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=Et({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),ee("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",u),o.once("connect",l),o.once("error",c),o.end();function a(f){f.upgrade=!0}function u(f,v,E){process.nextTick(function(){l(f,v,E)})}function l(f,v,E){if(o.removeAllListeners(),v.removeAllListeners(),f.statusCode!==200){ee("tunneling socket could not be established, statusCode=%d",f.statusCode),v.destroy();var oe=new Error("tunneling socket could not be established, statusCode="+f.statusCode);oe.code="ECONNRESET",e.request.emit("error",oe),n.removeSocket(i);return}if(E.length>0){ee("got illegal response body from proxy"),v.destroy();var oe=new Error("got illegal response body from proxy");oe.code="ECONNRESET",e.request.emit("error",oe),n.removeSocket(i);return}return ee("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=v,r(v)}function c(f){o.removeAllListeners(),ee(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var v=new Error("tunneling socket could not be established, cause="+f.message);v.code="ECONNRESET",e.request.emit("error",v),n.removeSocket(i)}};J.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Nr(t,e){var r=this;J.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=Et({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=zs.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function br(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Et(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(t[a]=n[a])}}return t}var ee;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?ee=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:ee=function(){};ve.debug=ee});var Lr=p((pc,Pr)=>{Pr.exports=qr()});var Cr=p(O=>{"use strict";var io=O&&O.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),so=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),He=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&io(e,t,r);return so(e,t),e},$=O&&O.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(O,"__esModule",{value:!0});O.HttpClient=O.isHttps=O.HttpClientResponse=O.HttpClientError=O.getProxyUrl=O.MediaTypes=O.Headers=O.HttpCodes=void 0;var Ve=He(require("http")),gt=He(require("https")),Dr=He(Tr()),Xe=He(Lr()),X;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(X=O.HttpCodes||(O.HttpCodes={}));var N;(function(t){t.Accept="accept",t.ContentType="content-type"})(N=O.Headers||(O.Headers={}));var te;(function(t){t.ApplicationJson="application/json"})(te=O.MediaTypes||(O.MediaTypes={}));function oo(t){let e=Dr.getProxyUrl(new URL(t));return e?e.href:""}O.getProxyUrl=oo;var ao=[X.MovedPermanently,X.ResourceMoved,X.SeeOther,X.TemporaryRedirect,X.PermanentRedirect],uo=[X.BadGateway,X.ServiceUnavailable,X.GatewayTimeout],lo=["OPTIONS","GET","DELETE","HEAD"],co=10,fo=5,Ee=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ee.prototype)}};O.HttpClientError=Ee;var We=class{constructor(e){this.message=e}readBody(){return $(this,void 0,void 0,function*(){return new Promise(e=>$(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};O.HttpClientResponse=We;function ho(t){return new URL(t).protocol==="https:"}O.isHttps=ho;var yt=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return $(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return $(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return $(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return $(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return $(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return $(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return $(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return $(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return $(this,void 0,void 0,function*(){r[N.Accept]=this._getExistingOrDefaultHeader(r,N.Accept,te.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,te.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,te.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return $(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),a=this._allowRetries&&lo.includes(e)?this._maxRetries+1:1,u=0,l;do{if(l=yield this.requestRaw(o,n),l&&l.message&&l.message.statusCode===X.Unauthorized){let f;for(let v of this.handlers)if(v.canHandleAuthentication(l)){f=v;break}return f?f.handleAuthentication(this,o,n):l}let c=this._maxRedirects;for(;l.message.statusCode&&ao.includes(l.message.statusCode)&&this._allowRedirects&&c>0;){let f=l.message.headers.location;if(!f)break;let v=new URL(f);if(s.protocol==="https:"&&s.protocol!==v.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield l.readBody(),v.hostname!==s.hostname)for(let E in i)E.toLowerCase()==="authorization"&&delete i[E];o=this._prepareRequest(e,v,i),l=yield this.requestRaw(o,n),c--}if(!l.message.statusCode||!uo.includes(l.message.statusCode))return l;u+=1,u<a&&(yield l.readBody(),yield this._performExponentialBackoff(u))}while(u<a);return l})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return $(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(u,l){i||(i=!0,n(u,l))}let o=e.httpModule.request(e.options,u=>{let l=new We(u);s(void 0,l)}),a;o.on("socket",u=>{a=u}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(u){s(u)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?gt:Ve;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ke(this.requestOptions.headers),ke(e||{})):ke(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=ke(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=Dr.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||Ve.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},u,l=n.protocol==="https:";s?u=l?Xe.httpsOverHttps:Xe.httpsOverHttp:u=l?Xe.httpOverHttps:Xe.httpOverHttp,r=u(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new gt.Agent(a):new Ve.Agent(a),this._agent=r}return r||(r=s?gt.globalAgent:Ve.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return $(this,void 0,void 0,function*(){e=Math.min(co,e);let r=fo*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return $(this,void 0,void 0,function*(){return new Promise((n,i)=>$(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===X.NotFound&&n(o);function a(c,f){if(typeof f=="string"){let v=new Date(f);if(!isNaN(v.valueOf()))return v}return f}let u,l;try{l=yield e.readBody(),l&&l.length>0&&(r&&r.deserializeDates?u=JSON.parse(l,a):u=JSON.parse(l),o.result=u),o.headers=e.message.headers}catch{}if(s>299){let c;u&&u.message?c=u.message:l&&l.length>0?c=l:c=`Failed request: (${s})`;let f=new Ee(c,s);f.result=o.result,i(f)}else n(o)}))})}};O.HttpClient=yt;var ke=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var Ur=p(H=>{"use strict";var _t=H&&H.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.PersonalAccessTokenCredentialHandler=H.BearerCredentialHandler=H.BasicCredentialHandler=void 0;var wt=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _t(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BasicCredentialHandler=wt;var Rt=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return _t(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.BearerCredentialHandler=Rt;var Ot=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _t(this,void 0,void 0,function*(){throw new Error("not implemented")})}};H.PersonalAccessTokenCredentialHandler=Ot});var Mr=p(ge=>{"use strict";var jr=ge&&ge.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ge,"__esModule",{value:!0});ge.OidcClient=void 0;var po=Cr(),mo=Ur(),Fr=St(),re=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new po.HttpClient("actions/oidc-client",[new mo.BearerCredentialHandler(re.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return jr(this,void 0,void 0,function*(){let s=(r=(yield re.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return jr(this,void 0,void 0,function*(){try{let r=re.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}Fr.debug(`ID token url is ${r}`);let n=yield re.getCall(r);return Fr.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};ge.OidcClient=re});var Tt=p(P=>{"use strict";var $t=P&&P.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(P,"__esModule",{value:!0});P.summary=P.markdownSummary=P.SUMMARY_DOCS_URL=P.SUMMARY_ENV_VAR=void 0;var vo=require("os"),xt=require("fs"),{access:Eo,appendFile:go,writeFile:yo}=xt.promises;P.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";P.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var At=class{constructor(){this._buffer=""}filePath(){return $t(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[P.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${P.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Eo(e,xt.constants.R_OK|xt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return $t(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?yo:go)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return $t(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(vo.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:u,colspan:l,rowspan:c}=o,f=a?"th":"td",v=Object.assign(Object.assign({},l&&{colspan:l}),c&&{rowspan:c});return this.wrap(f,u,v)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},Gr=new At;P.markdownSummary=Gr;P.summary=Gr});var Br=p(L=>{"use strict";var wo=L&&L.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ro=L&&L.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oo=L&&L.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&wo(e,t,r);return Ro(e,t),e};Object.defineProperty(L,"__esModule",{value:!0});L.toPlatformPath=L.toWin32Path=L.toPosixPath=void 0;var _o=Oo(require("path"));function So(t){return t.replace(/[\\]/g,"/")}L.toPosixPath=So;function $o(t){return t.replace(/[/]/g,"\\")}L.toWin32Path=$o;function xo(t){return t.replace(/[/\\]/g,_o.sep)}L.toPlatformPath=xo});var St=p(m=>{"use strict";var Ao=m&&m.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),To=m&&m.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vr=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ao(e,t,r);return To(e,t),e},Xr=m&&m.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.getIDToken=m.getState=m.saveState=m.group=m.endGroup=m.startGroup=m.info=m.notice=m.warning=m.error=m.debug=m.isDebug=m.setFailed=m.setCommandEcho=m.setOutput=m.getBooleanInput=m.getMultilineInput=m.getInput=m.addPath=m.setSecret=m.exportVariable=m.ExitCode=void 0;var F=Qt(),ae=xr(),ye=je(),kr=Vr(require("os")),Io=Vr(require("path")),No=Mr(),Wr;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Wr=m.ExitCode||(m.ExitCode={}));function bo(t,e){let r=ye.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return ae.issueFileCommand("ENV",ae.prepareKeyValueMessage(t,e));F.issueCommand("set-env",{name:t},r)}m.exportVariable=bo;function qo(t){F.issueCommand("add-mask",{},t)}m.setSecret=qo;function Po(t){process.env.GITHUB_PATH||""?ae.issueFileCommand("PATH",t):F.issueCommand("add-path",{},t),process.env.PATH=`${t}${Io.delimiter}${process.env.PATH}`}m.addPath=Po;function It(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}m.getInput=It;function Lo(t,e){let r=It(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}m.getMultilineInput=Lo;function Do(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=It(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}m.getBooleanInput=Do;function Co(t,e){if(process.env.GITHUB_OUTPUT||"")return ae.issueFileCommand("OUTPUT",ae.prepareKeyValueMessage(t,e));process.stdout.write(kr.EOL),F.issueCommand("set-output",{name:t},ye.toCommandValue(e))}m.setOutput=Co;function Uo(t){F.issue("echo",t?"on":"off")}m.setCommandEcho=Uo;function jo(t){process.exitCode=Wr.Failure,Hr(t)}m.setFailed=jo;function Fo(){return process.env.RUNNER_DEBUG==="1"}m.isDebug=Fo;function Mo(t){F.issueCommand("debug",{},t)}m.debug=Mo;function Hr(t,e={}){F.issueCommand("error",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}m.error=Hr;function Go(t,e={}){F.issueCommand("warning",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}m.warning=Go;function Bo(t,e={}){F.issueCommand("notice",ye.toCommandProperties(e),t instanceof Error?t.toString():t)}m.notice=Bo;function Vo(t){process.stdout.write(t+kr.EOL)}m.info=Vo;function Yr(t){F.issue("group",t)}m.startGroup=Yr;function Jr(){F.issue("endgroup")}m.endGroup=Jr;function Xo(t,e){return Xr(this,void 0,void 0,function*(){Yr(t);let r;try{r=yield e()}finally{Jr()}return r})}m.group=Xo;function ko(t,e){if(process.env.GITHUB_STATE||"")return ae.issueFileCommand("STATE",ae.prepareKeyValueMessage(t,e));F.issueCommand("save-state",{name:t},ye.toCommandValue(e))}m.saveState=ko;function Wo(t){return process.env[`STATE_${t}`]||""}m.getState=Wo;function Ho(t){return Xr(this,void 0,void 0,function*(){return yield No.OidcClient.getIDToken(t)})}m.getIDToken=Ho;var Yo=Tt();Object.defineProperty(m,"summary",{enumerable:!0,get:function(){return Yo.summary}});var Jo=Tt();Object.defineProperty(m,"markdownSummary",{enumerable:!0,get:function(){return Jo.markdownSummary}});var Nt=Br();Object.defineProperty(m,"toPosixPath",{enumerable:!0,get:function(){return Nt.toPosixPath}});Object.defineProperty(m,"toWin32Path",{enumerable:!0,get:function(){return Nt.toWin32Path}});Object.defineProperty(m,"toPlatformPath",{enumerable:!0,get:function(){return Nt.toPlatformPath}})});var Qr=p(g=>{"use strict";var Ko=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zo=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zr=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ko(e,t,r);return zo(e,t),e},bt=g&&g.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},M;Object.defineProperty(g,"__esModule",{value:!0});g.getCmdPath=g.tryGetExecutablePath=g.isRooted=g.isDirectory=g.exists=g.IS_WINDOWS=g.unlink=g.symlink=g.stat=g.rmdir=g.rename=g.readlink=g.readdir=g.mkdir=g.lstat=g.copyFile=g.chmod=void 0;var Qo=zr(require("fs")),Ye=zr(require("path"));M=Qo.promises,g.chmod=M.chmod,g.copyFile=M.copyFile,g.lstat=M.lstat,g.mkdir=M.mkdir,g.readdir=M.readdir,g.readlink=M.readlink,g.rename=M.rename,g.rmdir=M.rmdir,g.stat=M.stat,g.symlink=M.symlink,g.unlink=M.unlink;g.IS_WINDOWS=process.platform==="win32";function Zo(t){return bt(this,void 0,void 0,function*(){try{yield g.stat(t)}catch(e){if(e.code==="ENOENT")return!1;throw e}return!0})}g.exists=Zo;function ea(t,e=!1){return bt(this,void 0,void 0,function*(){return(e?yield g.stat(t):yield g.lstat(t)).isDirectory()})}g.isDirectory=ea;function ta(t){if(t=na(t),!t)throw new Error('isRooted() parameter "p" cannot be empty');return g.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")}g.isRooted=ta;function ra(t,e){return bt(this,void 0,void 0,function*(){let r;try{r=yield g.stat(t)}catch(i){i.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${i}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){let i=Ye.extname(t).toUpperCase();if(e.some(s=>s.toUpperCase()===i))return t}else if(Kr(r))return t}let n=t;for(let i of e){t=n+i,r=void 0;try{r=yield g.stat(t)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${s}`)}if(r&&r.isFile()){if(g.IS_WINDOWS){try{let s=Ye.dirname(t),o=Ye.basename(t).toUpperCase();for(let a of yield g.readdir(s))if(o===a.toUpperCase()){t=Ye.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${s}`)}return t}else if(Kr(r))return t}}return""})}g.tryGetExecutablePath=ra;function na(t){return t=t||"",g.IS_WINDOWS?(t=t.replace(/\//g,"\\"),t.replace(/\\\\+/g,"\\")):t.replace(/\/\/+/g,"/")}function Kr(t){return(t.mode&1)>0||(t.mode&8)>0&&t.gid===process.getgid()||(t.mode&64)>0&&t.uid===process.getuid()}function ia(){var t;return(t=process.env.COMSPEC)!==null&&t!==void 0?t:"cmd.exe"}g.getCmdPath=ia});var un=p(S=>{"use strict";var sa=S&&S.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oa=S&&S.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qt=S&&S.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&sa(e,t,r);return oa(e,t),e},ne=S&&S.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0});S.findInPath=S.which=S.mkdirP=S.rmRF=S.mv=S.cp=void 0;var aa=require("assert"),en=qt(require("child_process")),Y=qt(require("path")),tn=require("util"),w=qt(Qr()),Zr=tn.promisify(en.exec),ua=tn.promisify(en.execFile);function la(t,e,r={}){return ne(this,void 0,void 0,function*(){let{force:n,recursive:i,copySourceDirectory:s}=fa(r),o=(yield w.exists(e))?yield w.stat(e):null;if(o&&o.isFile()&&!n)return;let a=o&&o.isDirectory()&&s?Y.join(e,Y.basename(t)):e;if(!(yield w.exists(t)))throw new Error(`no such file or directory: ${t}`);if((yield w.stat(t)).isDirectory())if(i)yield on(t,a,0,n);else throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`);else{if(Y.relative(t,a)==="")throw new Error(`'${a}' and '${t}' are the same file`);yield an(t,a,n)}})}S.cp=la;function ca(t,e,r={}){return ne(this,void 0,void 0,function*(){if(yield w.exists(e)){let n=!0;if((yield w.isDirectory(e))&&(e=Y.join(e,Y.basename(t)),n=yield w.exists(e)),n)if(r.force==null||r.force)yield rn(e);else throw new Error("Destination already exists")}yield Pt(Y.dirname(e)),yield w.rename(t,e)})}S.mv=ca;function rn(t){return ne(this,void 0,void 0,function*(){if(w.IS_WINDOWS){if(/[*"<>|]/.test(t))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{let e=w.getCmdPath();(yield w.isDirectory(t,!0))?yield Zr(`${e} /s /c "rd /s /q "%inputPath%""`,{env:{inputPath:t}}):yield Zr(`${e} /s /c "del /f /a "%inputPath%""`,{env:{inputPath:t}})}catch(e){if(e.code!=="ENOENT")throw e}try{yield w.unlink(t)}catch(e){if(e.code!=="ENOENT")throw e}}else{let e=!1;try{e=yield w.isDirectory(t)}catch(r){if(r.code!=="ENOENT")throw r;return}e?yield ua("rm",["-rf",`${t}`]):yield w.unlink(t)}})}S.rmRF=rn;function Pt(t){return ne(this,void 0,void 0,function*(){aa.ok(t,"a path argument must be provided"),yield w.mkdir(t,{recursive:!0})})}S.mkdirP=Pt;function nn(t,e){return ne(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");if(e){let n=yield nn(t,!1);if(!n)throw w.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return n}let r=yield sn(t);return r&&r.length>0?r[0]:""})}S.which=nn;function sn(t){return ne(this,void 0,void 0,function*(){if(!t)throw new Error("parameter 'tool' is required");let e=[];if(w.IS_WINDOWS&&process.env.PATHEXT)for(let i of process.env.PATHEXT.split(Y.delimiter))i&&e.push(i);if(w.isRooted(t)){let i=yield w.tryGetExecutablePath(t,e);return i?[i]:[]}if(t.includes(Y.sep))return[];let r=[];if(process.env.PATH)for(let i of process.env.PATH.split(Y.delimiter))i&&r.push(i);let n=[];for(let i of r){let s=yield w.tryGetExecutablePath(Y.join(i,t),e);s&&n.push(s)}return n})}S.findInPath=sn;function fa(t){let e=t.force==null?!0:t.force,r=Boolean(t.recursive),n=t.copySourceDirectory==null?!0:Boolean(t.copySourceDirectory);return{force:e,recursive:r,copySourceDirectory:n}}function on(t,e,r,n){return ne(this,void 0,void 0,function*(){if(r>=255)return;r++,yield Pt(e);let i=yield w.readdir(t);for(let s of i){let o=`${t}/${s}`,a=`${e}/${s}`;(yield w.lstat(o)).isDirectory()?yield on(o,a,r,n):yield an(o,a,n)}yield w.chmod(e,(yield w.stat(t)).mode)})}function an(t,e,r){return ne(this,void 0,void 0,function*(){if((yield w.lstat(t)).isSymbolicLink()){try{yield w.lstat(e),yield w.unlink(e)}catch(i){i.code==="EPERM"&&(yield w.chmod(e,"0666"),yield w.unlink(e))}let n=yield w.readlink(t);yield w.symlink(n,e,w.IS_WINDOWS?"junction":null)}else(!(yield w.exists(e))||r)&&(yield w.copyFile(t,e))})}});var Ae=p((_c,ln)=>{var ha="2.0.0",da=Number.MAX_SAFE_INTEGER||9007199254740991,pa=16;ln.exports={SEMVER_SPEC_VERSION:ha,MAX_LENGTH:256,MAX_SAFE_INTEGER:da,MAX_SAFE_COMPONENT_LENGTH:pa}});var Te=p((Sc,cn)=>{var ma=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};cn.exports=ma});var ue=p((ie,fn)=>{var{MAX_SAFE_COMPONENT_LENGTH:Lt}=Ae(),va=Te();ie=fn.exports={};var Ea=ie.re=[],h=ie.src=[],d=ie.t={},ga=0,y=(t,e,r)=>{let n=ga++;va(t,n,e),d[t]=n,h[n]=e,Ea[n]=new RegExp(e,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","[0-9]+");y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");y("MAINVERSION",`(${h[d.NUMERICIDENTIFIER]})\\.(${h[d.NUMERICIDENTIFIER]})\\.(${h[d.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${h[d.NUMERICIDENTIFIERLOOSE]})\\.(${h[d.NUMERICIDENTIFIERLOOSE]})\\.(${h[d.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${h[d.NUMERICIDENTIFIER]}|${h[d.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${h[d.NUMERICIDENTIFIERLOOSE]}|${h[d.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${h[d.PRERELEASEIDENTIFIER]}(?:\\.${h[d.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${h[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[d.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER","[0-9A-Za-z-]+");y("BUILD",`(?:\\+(${h[d.BUILDIDENTIFIER]}(?:\\.${h[d.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${h[d.MAINVERSION]}${h[d.PRERELEASE]}?${h[d.BUILD]}?`);y("FULL",`^${h[d.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${h[d.MAINVERSIONLOOSE]}${h[d.PRERELEASELOOSE]}?${h[d.BUILD]}?`);y("LOOSE",`^${h[d.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${h[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${h[d.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${h[d.XRANGEIDENTIFIER]})(?:\\.(${h[d.XRANGEIDENTIFIER]})(?:\\.(${h[d.XRANGEIDENTIFIER]})(?:${h[d.PRERELEASE]})?${h[d.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${h[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[d.XRANGEIDENTIFIERLOOSE]})(?:${h[d.PRERELEASELOOSE]})?${h[d.BUILD]}?)?)?`);y("XRANGE",`^${h[d.GTLT]}\\s*${h[d.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${h[d.GTLT]}\\s*${h[d.XRANGEPLAINLOOSE]}$`);y("COERCE",`(^|[^\\d])(\\d{1,${Lt}})(?:\\.(\\d{1,${Lt}}))?(?:\\.(\\d{1,${Lt}}))?(?:$|[^\\d])`);y("COERCERTL",h[d.COERCE],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${h[d.LONETILDE]}\\s+`,!0);ie.tildeTrimReplace="$1~";y("TILDE",`^${h[d.LONETILDE]}${h[d.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${h[d.LONETILDE]}${h[d.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${h[d.LONECARET]}\\s+`,!0);ie.caretTrimReplace="$1^";y("CARET",`^${h[d.LONECARET]}${h[d.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${h[d.LONECARET]}${h[d.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${h[d.GTLT]}\\s*(${h[d.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${h[d.GTLT]}\\s*(${h[d.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${h[d.GTLT]}\\s*(${h[d.LOOSEPLAIN]}|${h[d.XRANGEPLAIN]})`,!0);ie.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${h[d.XRANGEPLAIN]})\\s+-\\s+(${h[d.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${h[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[d.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ie=p(($c,hn)=>{var ya=["includePrerelease","loose","rtl"],wa=t=>t?typeof t!="object"?{loose:!0}:ya.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};hn.exports=wa});var Je=p((xc,mn)=>{var dn=/^[0-9]+$/,pn=(t,e)=>{let r=dn.test(t),n=dn.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Ra=(t,e)=>pn(e,t);mn.exports={compareIdentifiers:pn,rcompareIdentifiers:Ra}});var T=p((Ac,yn)=>{var Ke=Te(),{MAX_LENGTH:vn,MAX_SAFE_INTEGER:ze}=Ae(),{re:En,t:gn}=ue(),Oa=Ie(),{compareIdentifiers:we}=Je(),C=class{constructor(e,r){if(r=Oa(r),e instanceof C){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>vn)throw new TypeError(`version is longer than ${vn} characters`);Ke("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?En[gn.LOOSE]:En[gn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ze||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ze||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ze||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ze)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ke("SemVer.compare",this.version,this.options,e),!(e instanceof C)){if(typeof e=="string"&&e===this.version)return 0;e=new C(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof C||(e=new C(e,this.options)),we(this.major,e.major)||we(this.minor,e.minor)||we(this.patch,e.patch)}comparePre(e){if(e instanceof C||(e=new C(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Ke("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return we(n,i)}while(++r)}compareBuild(e){e instanceof C||(e=new C(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Ke("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return we(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(we(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};yn.exports=C});var le=p((Tc,_n)=>{var{MAX_LENGTH:_a}=Ae(),{re:wn,t:Rn}=ue(),On=T(),Sa=Ie(),$a=(t,e)=>{if(e=Sa(e),t instanceof On)return t;if(typeof t!="string"||t.length>_a||!(e.loose?wn[Rn.LOOSE]:wn[Rn.FULL]).test(t))return null;try{return new On(t,e)}catch{return null}};_n.exports=$a});var $n=p((Ic,Sn)=>{var xa=le(),Aa=(t,e)=>{let r=xa(t,e);return r?r.version:null};Sn.exports=Aa});var An=p((Nc,xn)=>{var Ta=le(),Ia=(t,e)=>{let r=Ta(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};xn.exports=Ia});var Nn=p((bc,In)=>{var Tn=T(),Na=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Tn(t instanceof Tn?t.version:t,r).inc(e,n).version}catch{return null}};In.exports=Na});var G=p((qc,qn)=>{var bn=T(),ba=(t,e,r)=>new bn(t,r).compare(new bn(e,r));qn.exports=ba});var Qe=p((Pc,Pn)=>{var qa=G(),Pa=(t,e,r)=>qa(t,e,r)===0;Pn.exports=Pa});var Cn=p((Lc,Dn)=>{var Ln=le(),La=Qe(),Da=(t,e)=>{if(La(t,e))return null;{let r=Ln(t),n=Ln(e),i=r.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return o}};Dn.exports=Da});var jn=p((Dc,Un)=>{var Ca=T(),Ua=(t,e)=>new Ca(t,e).major;Un.exports=Ua});var Mn=p((Cc,Fn)=>{var ja=T(),Fa=(t,e)=>new ja(t,e).minor;Fn.exports=Fa});var Bn=p((Uc,Gn)=>{var Ma=T(),Ga=(t,e)=>new Ma(t,e).patch;Gn.exports=Ga});var Xn=p((jc,Vn)=>{var Ba=le(),Va=(t,e)=>{let r=Ba(t,e);return r&&r.prerelease.length?r.prerelease:null};Vn.exports=Va});var Wn=p((Fc,kn)=>{var Xa=G(),ka=(t,e,r)=>Xa(e,t,r);kn.exports=ka});var Yn=p((Mc,Hn)=>{var Wa=G(),Ha=(t,e)=>Wa(t,e,!0);Hn.exports=Ha});var Ze=p((Gc,Kn)=>{var Jn=T(),Ya=(t,e,r)=>{let n=new Jn(t,r),i=new Jn(e,r);return n.compare(i)||n.compareBuild(i)};Kn.exports=Ya});var Qn=p((Bc,zn)=>{var Ja=Ze(),Ka=(t,e)=>t.sort((r,n)=>Ja(r,n,e));zn.exports=Ka});var ei=p((Vc,Zn)=>{var za=Ze(),Qa=(t,e)=>t.sort((r,n)=>za(n,r,e));Zn.exports=Qa});var Ne=p((Xc,ti)=>{var Za=G(),eu=(t,e,r)=>Za(t,e,r)>0;ti.exports=eu});var et=p((kc,ri)=>{var tu=G(),ru=(t,e,r)=>tu(t,e,r)<0;ri.exports=ru});var Dt=p((Wc,ni)=>{var nu=G(),iu=(t,e,r)=>nu(t,e,r)!==0;ni.exports=iu});var tt=p((Hc,ii)=>{var su=G(),ou=(t,e,r)=>su(t,e,r)>=0;ii.exports=ou});var rt=p((Yc,si)=>{var au=G(),uu=(t,e,r)=>au(t,e,r)<=0;si.exports=uu});var Ct=p((Jc,oi)=>{var lu=Qe(),cu=Dt(),fu=Ne(),hu=tt(),du=et(),pu=rt(),mu=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return lu(t,r,n);case"!=":return cu(t,r,n);case">":return fu(t,r,n);case">=":return hu(t,r,n);case"<":return du(t,r,n);case"<=":return pu(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};oi.exports=mu});var ui=p((Kc,ai)=>{var vu=T(),Eu=le(),{re:nt,t:it}=ue(),gu=(t,e)=>{if(t instanceof vu)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(nt[it.COERCE]);else{let n;for(;(n=nt[it.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),nt[it.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;nt[it.COERCERTL].lastIndex=-1}return r===null?null:Eu(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};ai.exports=gu});var ci=p((zc,li)=>{"use strict";li.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var hi=p((Qc,fi)=>{"use strict";fi.exports=R;R.Node=ce;R.create=R;function R(t){var e=this;if(e instanceof R||(e=new R),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}R.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};R.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};R.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};R.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)wu(this,arguments[t]);return this.length};R.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Ru(this,arguments[t]);return this.length};R.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};R.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};R.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};R.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};R.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};R.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};R.prototype.map=function(t,e){e=e||this;for(var r=new R,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};R.prototype.mapReverse=function(t,e){e=e||this;for(var r=new R,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};R.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};R.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};R.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};R.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};R.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};R.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new R;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};R.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=yu(this,i,r[n]);return s};R.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function yu(t,e,r){var n=e===t.head?new ce(r,null,e,t):new ce(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function wu(t,e){t.tail=new ce(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Ru(t,e){t.head=new ce(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ce(t,e,r,n){if(!(this instanceof ce))return new ce(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ci()(R)}catch{}});var Ei=p((Zc,vi)=>{"use strict";var Ou=hi(),fe=Symbol("max"),z=Symbol("length"),Re=Symbol("lengthCalculator"),qe=Symbol("allowStale"),he=Symbol("maxAge"),K=Symbol("dispose"),di=Symbol("noDisposeOnSet"),x=Symbol("lruList"),k=Symbol("cache"),mi=Symbol("updateAgeOnGet"),Ut=()=>1,Ft=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[fe]=e.max||1/0,n=e.length||Ut;if(this[Re]=typeof n!="function"?Ut:n,this[qe]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[he]=e.maxAge||0,this[K]=e.dispose,this[di]=e.noDisposeOnSet||!1,this[mi]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[fe]=e||1/0,be(this)}get max(){return this[fe]}set allowStale(e){this[qe]=!!e}get allowStale(){return this[qe]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[he]=e,be(this)}get maxAge(){return this[he]}set lengthCalculator(e){typeof e!="function"&&(e=Ut),e!==this[Re]&&(this[Re]=e,this[z]=0,this[x].forEach(r=>{r.length=this[Re](r.value,r.key),this[z]+=r.length})),be(this)}get lengthCalculator(){return this[Re]}get length(){return this[z]}get itemCount(){return this[x].length}rforEach(e,r){r=r||this;for(let n=this[x].tail;n!==null;){let i=n.prev;pi(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[x].head;n!==null;){let i=n.next;pi(this,e,n,r),n=i}}keys(){return this[x].toArray().map(e=>e.key)}values(){return this[x].toArray().map(e=>e.value)}reset(){this[K]&&this[x]&&this[x].length&&this[x].forEach(e=>this[K](e.key,e.value)),this[k]=new Map,this[x]=new Ou,this[z]=0}dump(){return this[x].map(e=>st(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[x]}set(e,r,n){if(n=n||this[he],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Re](r,e);if(this[k].has(e)){if(s>this[fe])return Oe(this,this[k].get(e)),!1;let u=this[k].get(e).value;return this[K]&&(this[di]||this[K](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[z]+=s-u.length,u.length=s,this.get(e),be(this),!0}let o=new Mt(e,r,s,i,n);return o.length>this[fe]?(this[K]&&this[K](e,r),!1):(this[z]+=o.length,this[x].unshift(o),this[k].set(e,this[x].head),be(this),!0)}has(e){if(!this[k].has(e))return!1;let r=this[k].get(e).value;return!st(this,r)}get(e){return jt(this,e,!0)}peek(e){return jt(this,e,!1)}pop(){let e=this[x].tail;return e?(Oe(this,e),e.value):null}del(e){Oe(this,this[k].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[k].forEach((e,r)=>jt(this,r,!1))}},jt=(t,e,r)=>{let n=t[k].get(e);if(n){let i=n.value;if(st(t,i)){if(Oe(t,n),!t[qe])return}else r&&(t[mi]&&(n.value.now=Date.now()),t[x].unshiftNode(n));return i.value}},st=(t,e)=>{if(!e||!e.maxAge&&!t[he])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[he]&&r>t[he]},be=t=>{if(t[z]>t[fe])for(let e=t[x].tail;t[z]>t[fe]&&e!==null;){let r=e.prev;Oe(t,e),e=r}},Oe=(t,e)=>{if(e){let r=e.value;t[K]&&t[K](r.key,r.value),t[z]-=r.length,t[k].delete(r.key),t[x].removeNode(e)}},Mt=class{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},pi=(t,e,r,n)=>{let i=r.value;st(t,i)&&(Oe(t,r),t[qe]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};vi.exports=Ft});var B=p((ef,Ri)=>{var de=class{constructor(e,r){if(r=Su(r),e instanceof de)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new de(e.raw,r);if(e instanceof Gt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!yi(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Iu(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=gi.get(n);if(i)return i;let s=this.options.loose,o=s?D[b.HYPHENRANGELOOSE]:D[b.HYPHENRANGE];e=e.replace(o,Fu(this.options.includePrerelease)),_("hyphen replace",e),e=e.replace(D[b.COMPARATORTRIM],xu),_("comparator trim",e),e=e.replace(D[b.TILDETRIM],Au),e=e.replace(D[b.CARETTRIM],Tu),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(f=>Nu(f,this.options)).join(" ").split(/\s+/).map(f=>ju(f,this.options));s&&(a=a.filter(f=>(_("loose invalid filter",f,this.options),!!f.match(D[b.COMPARATORLOOSE])))),_("range list",a);let u=new Map,l=a.map(f=>new Gt(f,this.options));for(let f of l){if(yi(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let c=[...u.values()];return gi.set(n,c),c}intersects(e,r){if(!(e instanceof de))throw new TypeError("a Range is required");return this.set.some(n=>wi(n,r)&&e.set.some(i=>wi(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new $u(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Mu(this.set[r],e,this.options))return!0;return!1}};Ri.exports=de;var _u=Ei(),gi=new _u({max:1e3}),Su=Ie(),Gt=Pe(),_=Te(),$u=T(),{re:D,t:b,comparatorTrimReplace:xu,tildeTrimReplace:Au,caretTrimReplace:Tu}=ue(),yi=t=>t.value==="<0.0.0-0",Iu=t=>t.value==="",wi=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},Nu=(t,e)=>(_("comp",t,e),t=Pu(t,e),_("caret",t),t=bu(t,e),_("tildes",t),t=Du(t,e),_("xrange",t),t=Uu(t,e),_("stars",t),t),q=t=>!t||t.toLowerCase()==="x"||t==="*",bu=(t,e)=>t.trim().split(/\s+/).map(r=>qu(r,e)).join(" "),qu=(t,e)=>{let r=e.loose?D[b.TILDELOOSE]:D[b.TILDE];return t.replace(r,(n,i,s,o,a)=>{_("tilde",t,n,i,s,o,a);let u;return q(i)?u="":q(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:q(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(_("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,_("tilde return",u),u})},Pu=(t,e)=>t.trim().split(/\s+/).map(r=>Lu(r,e)).join(" "),Lu=(t,e)=>{_("caret",t,e);let r=e.loose?D[b.CARETLOOSE]:D[b.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{_("caret",t,i,s,o,a,u);let l;return q(s)?l="":q(o)?l=`>=${s}.0.0${n} <${+s+1}.0.0-0`:q(a)?s==="0"?l=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(_("replaceCaret pr",u),s==="0"?o==="0"?l=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(_("no pr"),s==="0"?o==="0"?l=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),_("caret return",l),l})},Du=(t,e)=>(_("replaceXRanges",t,e),t.split(/\s+/).map(r=>Cu(r,e)).join(" ")),Cu=(t,e)=>{t=t.trim();let r=e.loose?D[b.XRANGELOOSE]:D[b.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{_("xRange",t,n,i,s,o,a,u);let l=q(s),c=l||q(o),f=c||q(a),v=f;return i==="="&&v&&(i=""),u=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&v?(c&&(o=0),a=0,i===">"?(i=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):c?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),_("xRange return",n),n})},Uu=(t,e)=>(_("replaceStars",t,e),t.trim().replace(D[b.STAR],"")),ju=(t,e)=>(_("replaceGTE0",t,e),t.trim().replace(D[e.includePrerelease?b.GTE0PRE:b.GTE0],"")),Fu=t=>(e,r,n,i,s,o,a,u,l,c,f,v,E)=>(q(n)?r="":q(i)?r=`>=${n}.0.0${t?"-0":""}`:q(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,q(l)?u="":q(c)?u=`<${+l+1}.0.0-0`:q(f)?u=`<${l}.${+c+1}.0-0`:v?u=`<=${l}.${c}.${f}-${v}`:t?u=`<${l}.${c}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),Mu=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(_(t[n].semver),t[n].semver!==Gt.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Pe=p((tf,xi)=>{var Le=Symbol("SemVer ANY"),_e=class{static get ANY(){return Le}constructor(e,r){if(r=Gu(r),e instanceof _e){if(e.loose===!!r.loose)return e;e=e.value}Vt("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Le?this.value="":this.value=this.operator+this.semver.version,Vt("comp",this)}parse(e){let r=this.options.loose?Oi[_i.COMPARATORLOOSE]:Oi[_i.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Si(n[2],this.options.loose):this.semver=Le}toString(){return this.value}test(e){if(Vt("Comparator.test",e,this.options.loose),this.semver===Le||e===Le)return!0;if(typeof e=="string")try{e=new Si(e,this.options)}catch{return!1}return Bt(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof _e))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new $i(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new $i(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Bt(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=Bt(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||u}};xi.exports=_e;var Gu=Ie(),{re:Oi,t:_i}=ue(),Bt=Ct(),Vt=Te(),Si=T(),$i=B()});var De=p((rf,Ai)=>{var Bu=B(),Vu=(t,e,r)=>{try{e=new Bu(e,r)}catch{return!1}return e.test(t)};Ai.exports=Vu});var Ii=p((nf,Ti)=>{var Xu=B(),ku=(t,e)=>new Xu(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ti.exports=ku});var bi=p((sf,Ni)=>{var Wu=T(),Hu=B(),Yu=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Hu(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Wu(n,r))}),n};Ni.exports=Yu});var Pi=p((of,qi)=>{var Ju=T(),Ku=B(),zu=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Ku(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Ju(n,r))}),n};qi.exports=zu});var Ci=p((af,Di)=>{var Xt=T(),Qu=B(),Li=Ne(),Zu=(t,e)=>{t=new Qu(t,e);let r=new Xt("0.0.0");if(t.test(r)||(r=new Xt("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new Xt(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Li(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Li(r,s))&&(r=s)}return r&&t.test(r)?r:null};Di.exports=Zu});var ji=p((uf,Ui)=>{var el=B(),tl=(t,e)=>{try{return new el(t,e).range||"*"}catch{return null}};Ui.exports=tl});var ot=p((lf,Bi)=>{var rl=T(),Gi=Pe(),{ANY:nl}=Gi,il=B(),sl=De(),Fi=Ne(),Mi=et(),ol=rt(),al=tt(),ul=(t,e,r,n)=>{t=new rl(t,n),e=new il(e,n);let i,s,o,a,u;switch(r){case">":i=Fi,s=ol,o=Mi,a=">",u=">=";break;case"<":i=Mi,s=al,o=Fi,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(sl(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let c=e.set[l],f=null,v=null;if(c.forEach(E=>{E.semver===nl&&(E=new Gi(">=0.0.0")),f=f||E,v=v||E,i(E.semver,f.semver,n)?f=E:o(E.semver,v.semver,n)&&(v=E)}),f.operator===a||f.operator===u||(!v.operator||v.operator===a)&&s(t,v.semver))return!1;if(v.operator===u&&o(t,v.semver))return!1}return!0};Bi.exports=ul});var Xi=p((cf,Vi)=>{var ll=ot(),cl=(t,e,r)=>ll(t,e,">",r);Vi.exports=cl});var Wi=p((ff,ki)=>{var fl=ot(),hl=(t,e,r)=>fl(t,e,"<",r);ki.exports=hl});var Ji=p((hf,Yi)=>{var Hi=B(),dl=(t,e,r)=>(t=new Hi(t,r),e=new Hi(e,r),t.intersects(e));Yi.exports=dl});var zi=p((df,Ki)=>{var pl=De(),ml=G();Ki.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((c,f)=>ml(c,f,r));for(let c of o)pl(c,e,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var rs=p((pf,ts)=>{var Qi=B(),at=Pe(),{ANY:kt}=at,Ce=De(),Wt=G(),vl=(t,e,r={})=>{if(t===e)return!0;t=new Qi(t,r),e=new Qi(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=El(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},El=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===kt){if(e.length===1&&e[0].semver===kt)return!0;r.includePrerelease?t=[new at(">=0.0.0-0")]:t=[new at(">=0.0.0")]}if(e.length===1&&e[0].semver===kt){if(r.includePrerelease)return!0;e=[new at(">=0.0.0")]}let n=new Set,i,s;for(let E of t)E.operator===">"||E.operator===">="?i=Zi(i,E,r):E.operator==="<"||E.operator==="<="?s=es(s,E,r):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Wt(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(i&&!Ce(E,String(i),r)||s&&!Ce(E,String(s),r))return null;for(let oe of e)if(!Ce(E,String(oe),r))return!1;return!0}let a,u,l,c,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let E of e){if(c=c||E.operator===">"||E.operator===">=",l=l||E.operator==="<"||E.operator==="<=",i){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator===">"||E.operator===">="){if(a=Zi(i,E,r),a===E&&a!==i)return!1}else if(i.operator===">="&&!Ce(i.semver,String(E),r))return!1}if(s){if(f&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===f.major&&E.semver.minor===f.minor&&E.semver.patch===f.patch&&(f=!1),E.operator==="<"||E.operator==="<="){if(u=es(s,E,r),u===E&&u!==s)return!1}else if(s.operator==="<="&&!Ce(s.semver,String(E),r))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&c&&!i&&o!==0||v||f)},Zi=(t,e,r)=>{if(!t)return e;let n=Wt(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},es=(t,e,r)=>{if(!t)return e;let n=Wt(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};ts.exports=vl});var is=p((mf,ns)=>{var Ht=ue();ns.exports={re:Ht.re,src:Ht.src,tokens:Ht.t,SEMVER_SPEC_VERSION:Ae().SEMVER_SPEC_VERSION,SemVer:T(),compareIdentifiers:Je().compareIdentifiers,rcompareIdentifiers:Je().rcompareIdentifiers,parse:le(),valid:$n(),clean:An(),inc:Nn(),diff:Cn(),major:jn(),minor:Mn(),patch:Bn(),prerelease:Xn(),compare:G(),rcompare:Wn(),compareLoose:Yn(),compareBuild:Ze(),sort:Qn(),rsort:ei(),gt:Ne(),lt:et(),eq:Qe(),neq:Dt(),gte:tt(),lte:rt(),cmp:Ct(),coerce:ui(),Comparator:Pe(),Range:B(),satisfies:De(),toComparators:Ii(),maxSatisfying:bi(),minSatisfying:Pi(),minVersion:Ci(),validRange:ji(),outside:ot(),gtr:Xi(),ltr:Wi(),intersects:Ji(),simplifyRange:zi(),subset:rs()}});var V=W(St()),cs=W(un()),fs=W(require("child_process")),hs=W(require("fs")),ds=W(require("path")),ps=W(is());var os=W(require("child_process"));function se(t){return t.message!==void 0}var gl=100;function as(t,e){let r=ss(`${t} lint ${e}`);if(se(r))return r;let n=ss(`${t} lint ${e} --error-format=json`);if(se(n))return n;let i=yl(n.trim().split(`
`).filter(s=>s!==""));return se(i)?i:{raw:r,fileAnnotations:i}}function ss(t){try{os.execSync(t)}catch(e){return Rl(e)?e.status==gl?e.stdout.toString():{message:e.stderr.toString()}:{message:`failed to run command: ${t}`}}return""}function yl(t){let e=[];for(let r=0;r<t.length;r++)try{let n=JSON.parse(t[r]);if(!wl(n))return{message:`failed to parse "${t[r]}" as file annotation`};e.push(n)}catch{return{message:`failed to parse "${t[r]}" as file annotation`}}return e}function wl(t){return"message"in t}function Rl(t){return"status"in t&&"stdout"in t&&"stderr"in t}var us="0.41.0",ls="RUNNER_TEMP";async function ms(){try{let t=await Ol();t!==null&&se(t)&&V.setFailed(t.message)}catch(t){if(se(t)){V.setFailed(t.message);return}V.setFailed("Internal error")}}async function Ol(){let t=V.getInput("input");if(t==="")return{message:"an input was not provided"};let e=await cs.which("buf",!0);if(e==="")return{message:'buf is not installed; please add the "bufbuild/buf-setup-action" step to your job found at https://github.com/bufbuild/buf-setup-action'};let r=fs.execSync(`${e} --version 2>&1`).toString();if(ps.lt(r,us))return{message:`buf must be at least version ${us}, but found ${r}`};let n=V.getInput("buf_token");if(n!==""){let s=process.env[ls]??"";if(s==="")return{message:`expected ${ls} to be defined`};let o=ds.join(s,".netrc");hs.writeFileSync(o,`machine buf.build
password ${n}`,{flag:"w"}),process.env.NETRC=o}let i=as(e,t);return se(i)?i:i.fileAnnotations.length===0?(V.info("No lint errors were found."),null):(i.fileAnnotations.forEach(s=>{let{path:o,start_line:a,start_column:u,message:l}=s;if(o===void 0||a===void 0||u===void 0){V.error(l);return}V.info(`::error file=${o},line=${a},col=${u}::${l}`)}),{message:`buf found ${i.fileAnnotations.length} lint failures.`})}ms();
//# sourceMappingURL=main.js.map
